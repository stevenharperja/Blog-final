---
import { mapPosts } from "../../../utils/post.utils";
import TagsLayout from "../../../layouts/TagsLayout.astro";

const { tag } = Astro.params;

// Use Astro.glob() to fetch all posts, and then sort them by date.
const posts = await Astro.glob("../*.{md,mdx}");
const mappedPosts = mapPosts(posts);

export function getStaticPaths() {
	return [
		{ params: { tag: "general" } },
		{ params: { tag: "resources" } },
		{ params: { tag: "introduction" } },
		// { params: { tag: "N5" } },
		// { params: { tag: "N4" } },
		// { params: { tag: "N3" } },
		// { params: { tag: "N2" } },
		// { params: { tag: "N1" } },
	];
}
---

<TagsLayout posts={mappedPosts} tag={tag} />
